(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{690:function(s,a,n){"use strict";n.r(a);var t=n(5),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"命令简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令简介"}},[s._v("#")]),s._v(" 命令简介")]),s._v(" "),n("p",[s._v("nc（netcat）是一个短小精悍、功能实用、简单可靠的网络工具，主要有如下作用：\n（1）端口侦听，nc 可以作为 server 以 TCP 或 UDP 方式侦听指定端口；\n（2）端口扫描，nc 可以作为 client 发起 TCP 或 UDP 请求；\n（3）机器之间传输文件；\n（4）机器之间网络测速。")]),s._v(" "),n("p",[s._v("nc 实际上是 ncat 的软链接。ncat 是为 Nmap(Network Mapper) 项目编写的，是 Nmap 套件中的一员，它旨在成为可靠的后端工具，可立即为其他应用程序和用户提供网络连接。ncat 不仅可以使用 IPv4 和 IPv6，还可以为用户提供几乎无限的潜在用途。")]),s._v(" "),n("h2",{attrs:{id:"命令格式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令格式"}},[s._v("#")]),s._v(" 命令格式")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-46DdhklnrStUuvzC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-i interval"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-p source_port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-s source_ip_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-T ToS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-w timeout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-X proxy_protocol"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-x proxy_address"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hostname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("port"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"参数说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[s._v("#")]),s._v(" 参数说明")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("-4/6\n  强制只使用 IPv4/IPv6 地址\n-D\n  在套接字上启用调试\n-d\n  不从 stdin 读取\n-h\n  打印出帮助信息\n-k\n  强制 nc 在当前连接完成后继续侦听另一个连接。注意如果不使用 -l 选项，则使用此选项是错误的\n-l\n  指定 nc 应该侦听传入的连接，而不是启动到远程主机的连接。将此选项与 -p、-s 或 -z 选项结合使用是错误的。此外，使用 -w 选项指定的超时将被忽略\n-n\n  不要在任何指定的地址、主机名或端口上执行任何 DNS 或服务查找\n-r\n  随机选择源端口和目标端口，而不是按照系统分配的顺序或范围内的顺序选择它们\n-S\n  启用 RFC 2385 TCP MD5 签名选项\n-t\n  使 nc 发送 RFC 854 DON'T 和 WON'T 响应 RFC 854 的 DO 和 WILL 请求。这使得使用 nc 编写 telnet 会话脚本成为可能\n-U\n  指定使用 Unix 域套接字\n-u\n  使用 UDP 代替默认选项 TCP\n-v\n  显示命令执行过程\n-z\n  表示 zero，只扫描侦听守护进程，而不向它们发送任何数据。此选项与 -l 选项结合使用是错误的\n-C\n  发送 CRLF 作为换行符\n-i interval\n  指定发送和接收的文本之间的延迟时间间隔。还可指定连接到多个端口之间的延迟时间\n-p source_port\n  指定 nc 应使用的源端口，但须受特权限制和可用性限制。将此选项与 -l 选项结合使用是错误的\n-s source_ip_address\n  设置本地主机送出数据包的 IP 地址。注意将此选项与 -l 选项结合使用是错误的\n-T ToS\n  指定连接的 IP 服务类型(TOS)。有效值是标记 ''lowdelay'', ''throughput'', ''reliability''，或以 0x 开头的 8 位十六进制值\n-w timeout\n  如果连接和 stdin 空闲超过指定秒数，则连接将被关闭。-w 标志对 -l 选项没有影响。缺省不超时\n-X proxy_protocol\n  请求 nc 在与代理服务器对话时使用指定的协议。支持的协议是 “4”(SOCKsv.4)、“5”(SOCKV.5) 和 “connect”(HTTPS proxy)。如果未指定协议，则使用 SOCKS v.5\n-x proxy_address[:port]\n  使用指定代理服务器地址和端口连接到主机。如果未指定端口，则使用代理协议的已知端口（SOCKS为1080，HTTPS为3128）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br")])]),n("p",[s._v("nc 的控制参数不少，常用的几个参数如下所列")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("-l\n  指定 nc 将处于侦听模式。指定该参数，则意味着 nc 被当作 server，侦听并接受连接，而非向其它地址发起连接\n-p PORT\n  指定 nc 使用的源端口\n-s\n  指定发送数据的源 IP 地址，适用于多网卡机器\n-u\n  指定 nc 使用 UDP 协议，默认为 TCP\n-v\n  输出交互或出错信息，新手调试时尤为有用\n-w\n  超时秒数，后面跟数字\n-z\n  表示 zero，扫描时不发送任何数据\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"常用示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用示例"}},[s._v("#")]),s._v(" 常用示例")]),s._v(" "),n("h3",{attrs:{id:"相互发消息-c-s模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相互发消息-c-s模型"}},[s._v("#")]),s._v(" 相互发消息(C/S模型)")]),s._v(" "),n("p",[s._v("用nc能够非常简单地建立一个基本的C/S模型。\n打开控制台，在某个端口上启动nc监听，等待连接。例如，nc在端口1234上启动监听，等待连接：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以认为是服务器端")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("在另外一个控制台上（或另外一台机器上），连接该机器上监听的端口")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以认为是客户端")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("现在，端口之间的连接就建立了。连接建立之后，nc并不区分谁是server，谁是client。\nLinux中的nc没有-c或-e选项（可能是安全因素），但是，你仍然能够通过重定向文件描述符在建立连接之后执行命令。注意，打开一个端口，让任何人连接并在你的机器上执行任意命令是危险的。如果你需要这样做，下面有个例子：")]),s._v(" "),n("p",[s._v("在server端:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f /tmp/f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkfifo")]),s._v(" /tmp/f\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /tmp/f "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /bin/sh -i "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /tmp/f\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("在client端:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("shell prompt from host.example.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("通过创建一个FIFO文件/tmp/f，让nc在server端127.0.0.1的端口1234上监听，当一个client成功连接之后，/bin/sh在服务端执行，但执行反馈传送给client端。\n当连接中断后，nc也退出。如果要保持连接，使用-k选项，但是如果命令退出，这个选项也不会重启它或保持nc运行。如果不再需要，不要忘记删除该文件描述符。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f /tmp/f\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果发送失败，可以杀掉相关进程然后重新连接。使用"),n("code",[s._v("kill -9 $(lsof -i:10001 -t)")])]),s._v(" "),n("h3",{attrs:{id:"文件传输"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文件传输"}},[s._v("#")]),s._v(" 文件传输")]),s._v(" "),n("p",[s._v("上面的例子可以扩展来建立一个基本的数据传输模型。在连接的一端输入的任何信息将输出到另一端，输入和输出能够很容易被捕捉来模拟文件传输。\nnc在一个端口上启动监听，并将输出重定向到一个文件中，当文件传输完毕后，连接自动关闭。")]),s._v(" "),n("ul",[n("li",[s._v("从 Server 到 Client\nServer")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" filename.out\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在另一台机器上，连接nc运行的机器和监听端口，将要传输的文件作为输入：")]),s._v(" "),n("p",[s._v("Client")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" filename.in\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("从 Client 到 Server")])]),s._v(" "),n("p",[s._v("Server")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" filename.in\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Client")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" filename.out\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"端口扫描"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#端口扫描"}},[s._v("#")]),s._v(" 端口扫描")]),s._v(" "),n("p",[s._v("端口扫描经常被系统管理员和黑客用来发现在一些机器上开放的端口，帮助他们识别系统中的漏洞。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -z -v -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("-25 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("可以运行在TCP或者UDP模式，默认是TCP，-u参数调整为udp.\nz 参数告诉netcat使用0 IO,连接成功后立即关闭连接， 不进行数据交换.\nv 参数指详细输出.\nn 参数告诉netcat 不要使用DNS反向查询IP地址的域名.\n以上命令会打印21到25和5432 所有开放的端口")]),s._v(" "),n("p",[s._v("只希望将开放端口的行打印出来，可以用 grep")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -z -v -n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("-25 "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" succeeded\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"目录传输"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#目录传输"}},[s._v("#")]),s._v(" 目录传输")]),s._v(" "),n("p",[s._v("发送一个文件很简单，但是如果我们想要发送多个文件，或者整个目录，一样很简单，只需要使用压缩工具tar，压缩后发送压缩包。")]),s._v(" "),n("ul",[n("li",[s._v("从 Server 到 Client")]),s._v(" "),n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -czvf – testdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在另一台机器上，连接nc运行的机器和监听端口，将要传输的文件作为输入：")]),s._v(" "),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf -\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这里在Server上，我们创建一个tar归档包并且通过-在控制台重定向它，然后使用管道，重定向给netcat，netcat可以通过网络发送它。\n在客户端我们下载该压缩包通过netcat 管道然后打开文件。\n如果想要节省带宽传输压缩包，我们可以使用bzip2或者其他工具压缩")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -czvf – testdir "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -z "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n通过bzip2压缩\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" -d "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf -\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"测试网速"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试网速"}},[s._v("#")]),s._v(" 测试网速")]),s._v(" "),n("p",[s._v("测试网速其实利用了传输文件的原理，就是把来自一台机器的 /dev/zero 发送给另一台机器的 /dev/null\n就是把一台机器的无限个 0，传输给另一个机器的空设备上，然后新开一个窗口使用 dstat 命令监测网速\n在这之前需要保证机器先安装 dstat 工具。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" dstat\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("第 1 步，在 A 机器先启动接收数据的命令，监听自己的 8888 端口，把来自这个端口的数据都输出给空设备（这样不写磁盘，测试网速更准确）。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/null\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("第 2 步，在 B 机器发送数据，把无限个 0 发送给 A 机器的 8888 端口。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" /dev/zero\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("如果是在同一台机器发送数据，即：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" /dev/zero\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("那么 receiver 将无法收到数据")]),s._v(" "),n("h3",{attrs:{id:"加密你通过网络发送的数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加密你通过网络发送的数据"}},[s._v("#")]),s._v(" 加密你通过网络发送的数据")]),s._v(" "),n("p",[s._v("如果你担心你在网络上发送数据的安全，你可以在发送你的数据之前用如mcrypt的工具加密。")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mcrypt –flush –bare -F -q -d -m ecb "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" file.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用mcrypt工具加密数据。")]),s._v(" "),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("mcrypt –flush –bare -F -q -m ecb "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" file.txt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用mcrypt工具解密数据。\n以上两个命令会提示需要密码，确保两端使用相同的密码。\n这里我们是使用mcrypt用来加密，使用其它任意加密工具都可以。")]),s._v(" "),n("h3",{attrs:{id:"打开一个shell"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#打开一个shell"}},[s._v("#")]),s._v(" 打开一个shell")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f /tmp/f "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkfifo")]),s._v(" /tmp/f\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /tmp/f "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" /bin/sh -i "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /tmp/f\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("这里我们创建了一个fifo文件，然后使用管道命令把这个fifo文件内容定向到shell 2>&1中。是用来重定向标准错误输出和标准输出，然后管道到netcat 运行的端口20000上。至此，我们已经把netcat的输出重定向到fifo文件中。")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("说明：\n从网络收到的输入写到fifo文件中\ncat 命令读取fifo文件并且其内容发送给sh命令\nsh命令进程受到输入并把它写回到netcat。\nnetcat 通过网络发送输出到client\n至于为什么会成功是因为管道使命令平行执行，fifo文件用来替代正常文件，因为fifo使读取等待而如果是一个普通文件，cat命令会尽快结束并开始读取空文件。\n在客户端仅仅简单连接到服务器")])]),s._v(" "),n("li",[n("p",[s._v("Client")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("shell prompt from host.example.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("你会得到一个shell提示符在客户端")]),s._v(" "),n("h3",{attrs:{id:"反向shell"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#反向shell"}},[s._v("#")]),s._v(" 反向shell")]),s._v(" "),n("p",[s._v("反向shell又称反弹shell，是指在客户端打开的shell。反向shell这样命名是因为不同于其他配置，这里服务器使用的是由客户提供的服务。")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在客户端，简单地告诉netcat在连接完成后，执行shell。")]),s._v(" "),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" -e /bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("现在，什么是反向shell的特别之处呢\n反向shell经常被用来绕过防火墙的限制，如阻止入站连接。例如，我有一个专用IP地址为192.168.10.1，我使用代理服务器连接到外部网络。如果我想从网络外部访问 这台机器如1.2.3.4的shell，那么我会用反向外壳用于这一目的。")]),s._v(" "),n("h3",{attrs:{id:"指定源端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指定源端口"}},[s._v("#")]),s._v(" 指定源端口")]),s._v(" "),n("p",[s._v("假设你的防火墙过滤除25端口外其它所有端口，你需要使用-p选项指定源端口。")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用1024以内的端口需要root权限。\n该命令将在客户端开启25端口用于通讯，否则将使用随机端口。")]),s._v(" "),n("h3",{attrs:{id:"指定源地址"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指定源地址"}},[s._v("#")]),s._v(" 指定源地址")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -u -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" file.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -u "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("110.40")]),s._v(".137.191 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10001")]),s._v(" -s "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.31")]),s._v(".100.5 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" file.txt\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"静态web页面服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态web页面服务器"}},[s._v("#")]),s._v(" 静态web页面服务器")]),s._v(" "),n("p",[s._v("新建一个网页,命名为somepage.html;\n新建一个shell script:")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" -q "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" somepage.html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("用root权限执行，然后在浏览器中输入127.0.0.1打开看看是否正确运行。\nnc 指令通常都是给管理者进行除错或测试等动作用的，所以如果只是单纯需要临时的网页伺服器，使用 Python 的 SimpleHTTPServer 模组会比较方便。")]),s._v(" "),n("h3",{attrs:{id:"netcat支持ipv6"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#netcat支持ipv6"}},[s._v("#")]),s._v(" Netcat支持IPv6")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -4 -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -4 localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("然后我们可以使用 netstat 命令来查看网络的情况。")]),s._v(" "),n("p",[s._v("接下来我们看看IPv6 的情况：")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -6 -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -6 localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"禁止从标准输入中读取数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#禁止从标准输入中读取数据"}},[s._v("#")]),s._v(" 禁止从标准输入中读取数据")]),s._v(" "),n("p",[s._v("该功能使用 -d 参数，请看下面例子：")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -d localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\nHi\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("你输入的 Hi 文本并不会送到服务器端。")]),s._v(" "),n("h3",{attrs:{id:"强制-netcat-服务器端保持启动状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强制-netcat-服务器端保持启动状态"}},[s._v("#")]),s._v(" 强制 Netcat 服务器端保持启动状态")]),s._v(" "),n("p",[s._v("如果连接到服务器的客户端断开连接，那么服务器端也会跟着退出。")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Client")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n^C\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("上述例子中，但客户端断开时服务器端也立即退出。\n我们可以通过 -k 参数来控制让服务器不会因为客户端的断开连接而退出。")]),s._v(" "),n("ul",[n("li",[s._v("Server")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" -k -l "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("Client")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" localhost "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2389")]),s._v("\n^C\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);