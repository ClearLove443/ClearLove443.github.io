(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{529:function(a,s,e){"use strict";e.r(s);var r=e(2),t=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("在 0.9.0.0 之后的 Kafka，出现了几个新变动，一个是在 Server 端增加了 GroupCoordinator 这个角色，另一个较大的变动是将 topic 的 offset 信息由之前存储在 zookeeper 上改为存储到一个特殊的 "),s("code",[a._v("topic（__consumer_offsets)")]),a._v("中(即broker 中)。\n下面的命令 参数"),s("code",[a._v("(--zookeeper localhost:2181)")]),a._v(" 替换为"),s("code",[a._v("(--bootstrap-server brokerhost)")])]),a._v(" "),s("p",[a._v("本文测试版本：kafka_2.11-2.2.0")]),a._v(" "),s("h2",{attrs:{id:"启动-kafka"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-kafka"}},[a._v("#")]),a._v(" 启动 Kafka")]),a._v(" "),s("p",[a._v("后台常驻方式，带上参数 "),s("code",[a._v("-daemon")]),a._v("，如：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-server-start.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-daemon")]),a._v(" /usr/local/kafka/config/server.properties\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("指定 JMX port 端口启动，指定 jmx，可以方便监控 Kafka 集群")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JMX_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9991")]),a._v(" /usr/local/kafka/bin/kafka-server-start.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-daemon")]),a._v(" /usr/local/kafka/config/server.properties\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"停止-kafka"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止-kafka"}},[a._v("#")]),a._v(" 停止 Kafka")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-server-stop.sh\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#topic"}},[a._v("#")]),a._v(" Topic")]),a._v(" "),s("h3",{attrs:{id:"创建-topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建-topic"}},[a._v("#")]),a._v(" 创建 Topic")]),a._v(" "),s("p",[a._v("参数 "),s("code",[a._v("--topic")]),a._v(" 指定 Topic 名，"),s("code",[a._v("--partitions")]),a._v(" 指定分区数，"),s("code",[a._v("--replication-factor")]),a._v(" 指定备份数：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--create")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181 --replication-factor "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partitions")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意，如果配置文件 server.properties 指定了 Kafka 在 zookeeper 上的目录，则参数也要指定，否则会报无可用的 brokers（下面部分命令也有同样的情况），如：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--create")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181/kafka --replication-factor "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partitions")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"列出所有-topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列出所有-topic"}},[a._v("#")]),a._v(" 列出所有 Topic")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--list")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"查看-topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-topic"}},[a._v("#")]),a._v(" 查看 Topic")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--describe")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"增加-topic-的-partition-数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#增加-topic-的-partition-数"}},[a._v("#")]),a._v(" 增加 Topic 的 partition 数")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--alter")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partitions")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"查看-topic-指定分区-offset-的最大值或最小值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-topic-指定分区-offset-的最大值或最小值"}},[a._v("#")]),a._v(" 查看 topic 指定分区 offset 的最大值或最小值")]),a._v(" "),s("p",[a._v("time 为 -1 时表示最大值，为 -2 时表示最小值：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--time")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-1")]),a._v(" --broker-list "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partitions")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"删除-topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-topic"}},[a._v("#")]),a._v(" 删除 Topic")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-topics.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--zookeeper")]),a._v(" localhost:2181 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"生产消息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生产消息"}},[a._v("#")]),a._v(" 生产消息")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-producer.sh --broker-list localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"消费消息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#消费消息"}},[a._v("#")]),a._v(" 消费消息")]),a._v(" "),s("h3",{attrs:{id:"从头开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从头开始"}},[a._v("#")]),a._v(" 从头开始")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" --from-beginning\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"从尾部开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从尾部开始"}},[a._v("#")]),a._v(" 从尾部开始")]),a._v(" "),s("p",[a._v("从尾部开始取数据，必需要指定分区：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--offset")]),a._v(" latest "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partition")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"指定分区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定分区"}},[a._v("#")]),a._v(" 指定分区")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--offset")]),a._v(" latest "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partition")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"取指定个数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取指定个数"}},[a._v("#")]),a._v(" 取指定个数")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--offset")]),a._v(" latest "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--partition")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" --max-messages "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"消费者-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#消费者-group"}},[a._v("#")]),a._v(" 消费者 Group")]),a._v(" "),s("h3",{attrs:{id:"指定-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定-group"}},[a._v("#")]),a._v(" 指定 Group")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-group")]),a._v(" test_group --from-beginning\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"消费者-group-列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#消费者-group-列表"}},[a._v("#")]),a._v(" 消费者 Group 列表")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--list")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"查看-group-详情"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-group-详情"}},[a._v("#")]),a._v(" 查看 Group 详情")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group")]),a._v(" test_group "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--describe")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("输出：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("Consumer group "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'test_group'")]),a._v(" has no active members.\n\nTOPIC           PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG             CONSUMER-ID     HOST            CLIENT-ID\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("          "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("               "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("               "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("               -               -               -\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# CURRENT-OFFSET: 当前消费者群组最近提交的 offset，也就是消费者分区里读取的当前位置")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# LOG-END-OFFSET: 当前最高水位偏移量，也就是最近一个读取消息的偏移量，同时也是最近一个提交到集群的偏移量")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# LAG：消费者的 CURRENT-OFFSET 与 broker 的 LOG-END-OFFSET 之间的差距")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h3",{attrs:{id:"删除-group-中-topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-group-中-topic"}},[a._v("#")]),a._v(" 删除 Group 中 Topic")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group")]),a._v(" test_group "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"删除-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-group"}},[a._v("#")]),a._v(" 删除 Group")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-consumer-groups.sh --bootstrap-server localhost:9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group")]),a._v(" test_group "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"平衡-leader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#平衡-leader"}},[a._v("#")]),a._v(" 平衡 leader")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-preferred-replica-election.sh --bootstrap-server localhost:9092\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"自带压测工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自带压测工具"}},[a._v("#")]),a._v(" 自带压测工具")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("/usr/local/kafka/bin/kafka-producer-perf-test.sh "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--topic")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" --num-records "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v(" --record-size "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--throughput")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v(" --producer-props "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bootstrap.servers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("localhost:9092\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);